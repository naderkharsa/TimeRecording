//@ui5-bundle sap/ui/timebookings/Component-preload.js
sap.ui.require.preload({
	"sap/ui/timebookings/Component.js":function(){
sap.ui.define(["sap/ui/core/UIComponent","sap/ui/core/ComponentSupport"],e=>{"use strict";return e.extend("sap.ui.timebookings.Component",{metadata:{manifest:"json",interfaces:["sap.ui.core.IAsyncContentCreation"]}})});
},
	"sap/ui/timebookings/controller/Main.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/m/MessageToast","sap/ui/core/Fragment"],function(t,e,o,n){"use strict";return t.extend("sap.ui.timebookings.controller.Main",{onInit:function(){const t={entry:{date:"",hours:"",shortText:"",projectId:"",project:"",accounting:""},popupStop:{shortText:"",accounting:""},popupData:{start:null,end:null,shortText:"",accounting:"",project:"",projectId:""},entries:[],timer:0,start:false};const o=new e(t);o.setDefaultBindingMode(sap.ui.model.BindingMode.TwoWay);this.getView().setModel(o);const n=sap.ui.require.toUrl("sap/ui/timebookings/model/projects.json");const r=new e;r.loadData(n,null,false);this.getView().setModel(r,"projectsModel");const i=sap.ui.require.toUrl("sap/ui/timebookings/model/entries.json");const s=new e;s.loadData(i,null,true);s.attachRequestCompleted(()=>{const t=s.getData();if(t&&Array.isArray(t.entries)){o.setProperty("/entries",t.entries)}});this._intervalId=null},onOpenTimePopup:async function(){const t=this.getView().getModel();t.setProperty("/popupData",{start:null,end:null,shortText:"",accounting:"",project:"",projectId:""});if(!this._oTimeDialog){try{const e=await n.load({id:"timeInfoFragment",name:"sap.ui.timebookings.view.fragment.TimeInfoDialog",controller:this});this._oTimeDialog=e;e.setModel(t);this.getView().addDependent(e);e.open();this.onPopupInputChange()}catch(t){console.error("Failed to load fragment:",t)}}else{this._oTimeDialog.open();this.onPopupInputChange()}},onPopupAdd:function(){const t=this.getView().getModel();const e=t.getProperty("/popupData");const r=n.byId("timeInfoFragment","startPicker").getDateValue();const i=n.byId("timeInfoFragment","endPicker").getDateValue();if(!r||!i||!e.shortText||!e.projectId||!e.accounting){o.show("Bitte alle Felder ausfüllen.");return}const{start:s,end:a,durationFormatted:c}=this.calculateDuration(r,i);const p=n.byId("timeInfoFragment","projectSelectPopup");const u=p?.getSelectedItem()?.getText()||e.projectId;const l=t.getProperty("/entries")||[];l.unshift({project:u,projectId:e.projectId,start:s,end:a,accounting:e.accounting,shortText:e.shortText,duration:c});t.setProperty("/entries",l);this._oTimeDialog.close()},onStartTimer:function(){const t=this.getView().getModel();if(!t.getProperty("/start")){this._startTime=new Date;this._timerInterval=setInterval(()=>{const e=t.getProperty("/timer");t.setProperty("/timer",e+1)},1e3);t.setProperty("/start",true)}else{clearInterval(this._timerInterval);this._stopTime=new Date;t.setProperty("/start",false);this._openStopDialog()}},_openStopDialog:function(){if(!this._pStopDialog){n.load({id:this.getView().getId(),name:"sap.ui.timebookings.view.fragment.StopDialog",controller:this}).then(t=>{this._pStopDialog=t;this.getView().addDependent(t);t.open()})}else{this._pStopDialog.open()}},onStopConfirm:function(){const t=this.getView().getModel();const e=t.getProperty("/popupStop");if(!e.shortText||e.shortText.trim().length===0){o.show("beschreibe deine Arbeit.");return}const{start:n,end:r,durationFormatted:i}=this.calculateDuration(this._startTime,this._stopTime);const s=this.byId("projectSelectMain");const a=s?.getSelectedKey();const c=s?.getSelectedItem()?.getText()||a;const p=t.getProperty("/entries")||[];p.unshift({project:c,projectId:a,start:n,end:r,accounting:e.accounting,shortText:e.shortText,duration:i});t.setProperty("/entries",p);this._pStopDialog.close();t.setProperty("/popupStop",{shortText:"",accounting:""});t.setProperty("/timer",0);t.setProperty("/start",false)},onProjectChange:function(t){const e=this.getView().getModel();const o=t.getSource().getSelectedKey();const n=t.getSource().getSelectedItem().getText();e.setProperty("/entry/projectId",o);e.setProperty("/entry/project",n.split(" (")[0])},onAccountingChange:function(t){const e=this.getView().getModel();const o=t.getSource().getSelectedItem().getText();e.setProperty("/entry/accounting",o)},getGroupHeader:function(t){return new sap.m.GroupHeaderListItem({title:"Datum: "+t.key,upperCase:false})},onSearch:function(t){const e=t.getParameter("query");const o=this.byId("entryList");const n=o.getBinding("items");const r=[];if(e){r.push(new sap.ui.model.Filter("project",sap.ui.model.FilterOperator.Contains,e))}n.filter(r)},onDeleteEntry:function(t){const e=this.getView().getModel();const o=t.getSource().getBindingContext();const n=o.getPath();const r=parseInt(n.split("/").pop(),10);const i=[...e.getProperty("/entries")];i.splice(r,1);e.setProperty("/entries",i)},onPopupCancel:function(){this._oTimeDialog.close()},onStopCancel:function(){this._pStopDialog.close()},onDescriptionChange:function(t){const e=t.getSource().getValue();const o=n.byId(this.getView().getId(),"okBtn");if(o){o.setEnabled(e.trim().length>0)}},onPopupInputChange:function(t){const e=this.getView().getModel();const o=e.getProperty("/popupData");const n=t?.getSource()?.getId?.().includes("shortTextInput2")?t.getSource().getValue():o.shortText;const r=o.start instanceof Date&&!isNaN(o.start);const i=o.end instanceof Date&&!isNaN(o.end);const s=typeof n==="string"&&n.trim().length>0;const a=typeof o.projectId==="string"&&o.projectId.trim().length>0;const c=typeof o.accounting==="string"&&o.accounting.trim().length>0;const p=r&&i&&s&&a&&c;const u=sap.ui.core.Fragment.byId("timeInfoFragment","addBtn");if(u){u.setEnabled(p)}},formatHours:function(t){return t!==undefined?String(Math.floor(t/3600)).padStart(2,"0"):"00"},formatMinutes:function(t){return t!==undefined?String(Math.floor(t%3600/60)).padStart(2,"0"):"00"},formatSeconds:function(t){return t!==undefined?String(t%60).padStart(2,"0"):"00"},formatButtonType:function(t){return t?"Negative":"Default"},calculateDuration:function(t,e){const o=e-t;const n=Math.round(o/(1e3*60));const r=Math.floor(n/60);const i=n%60;const s=(r>0?r+"h ":"")+i+"m";return{start:t,end:e,durationFormatted:s}},onSave:function(){},onCancel:function(){}})});
},
	"sap/ui/timebookings/i18n/i18n.properties":'appTitle=Time Recording App\n',
	"sap/ui/timebookings/i18n/i18n_de.properties":'appTitle=Zeiterfassung App\n',
	"sap/ui/timebookings/i18n/i18n_en.properties":'appTitle=Time recording app\n',
	"sap/ui/timebookings/manifest.json":'{"_version":"1.61.0","sap.app":{"id":"sap.ui.timebookings","type":"application","title":"Time Recording App"},"sap.ui":{"_version":"1.1.0","technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"dependencies":{"minUI5Version":"1.121.0","libs":{"sap.ui.core":{},"sap.m":{},"sap.f":{}}},"rootView":{"viewName":"sap.ui.timebookings.view.Main","type":"XML","id":"app"},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"sap.ui.timebookings.i18n.i18n","async":true}},"":{"type":"sap.ui.model.json.JSONModel","uri":"model/entries.json"}},"resources":{"css":[{"uri":"css/styles.css"}]}}}',
	"sap/ui/timebookings/util/Helper.js":function(){
sap.ui.define(["require"],e=>{"use strict";return{resolvePath(r){return e.toUrl("../")+r}}});
},
	"sap/ui/timebookings/view/Main.view.xml":'<mvc:View controllerName="sap.ui.timebookings.controller.Main"\n\txmlns:mvc="sap.ui.core.mvc"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\txmlns:f="sap.f" displayBlock="true"><App><Page><customHeader><f:ShellBar title="Zeiterfassung" class="myBigShellTitle" /></customHeader><content><f:DynamicPage><f:header><f:DynamicPageHeader pinnable="false"><HBox justifyContent="Start" alignItems="Center" class="sapUiSmallMargin"><Select  id="projectSelectMain" forceSelection="false" width="20rem" class="projectDropdown" change=".onProjectChange" items="{ path: \'projectsModel>/projects\' }"><core:Item key="{projectsModel>projectID}" text="{projectsModel>project}" /></Select><Button text="{= ${/start} ? \'Stop\' : \'Start\' }" icon="{= ${/start} ? \'sap-icon://media-pause\' : \'sap-icon://media-play\' }" type="{path: \'/start\', formatter: \'.formatButtonType\'}" press=".onStartTimer"/><Button icon="sap-icon://add" type="Default" class="plusBtn sapUiTinyMarginBegin" press=".onOpenTimePopup" /><HBox id="timerDisplay" alignItems="Center" class="sapUiTinyMarginBegin"><Text text="{parts: [{path: \'/timer\'}], formatter: \'.formatHours\'}" class="timerFace" /><Text text=":" /><Text text="{parts: [{path: \'/timer\'}], formatter: \'.formatMinutes\'}" class="timerFace" /><Text text=":" /><Text text="{parts: [{path: \'/timer\'}], formatter: \'.formatSeconds\'}" class="timerFace" /></HBox></HBox></f:DynamicPageHeader></f:header><f:content><List id="entryList" items="{\n      path: \'/entries\',\n      sorter: { path: \'date\'},\n      groupHeaderFactory: \'.getGroupHeader\'\n    }" headerText="Erfasste Zeiten" growing="true" growingScrollToLoad="true"><CustomListItem><VBox class="entryBox"><HBox alignItems="Center" justifyContent="SpaceBetween"><Text text="Projekt: {project}" class="entryProjectTitle" /><Button icon="sap-icon://delete" type="Transparent" press=".onDeleteEntry" /></HBox><Text text="{shortText}" class="entryDescription" wrapping="true" /><Text text="" /><HBox justifyContent="SpaceBetween" alignItems="Center"><HBox alignItems="Center" justifyContent="SpaceBetween"><Text text="{duration}" class="entryDuration sapUiTinyMarginBegin" /></HBox><Text text="{accounting}" class="entryAccounting" /><Text text="{date}" class="entryDate" /></HBox></VBox></CustomListItem></List></f:content></f:DynamicPage></content><footer><OverflowToolbar><ToolbarSpacer /><Button text="Zurücksetzen" icon="sap-icon://undo" type="Reject" press=".onCancel" /><Button text="Speichern" icon="sap-icon://save" type="Emphasized" press=".onSave" /></OverflowToolbar></footer></Page></App></mvc:View>\n',
	"sap/ui/timebookings/view/fragment/StopDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Dialog id="StopDialog" title="Arbeitsbeschreibung" ><VBox class="sapUiSmallMargin"><Text text="Beschreibe deine Arbeit" /><Input\n  id="shortTextInput"\n  value="{/popupStop/shortText}"\n  placeholder="Short Text"\n  change=".onDescriptionChange" /><Label text="Accounting Indicator:" /><Select\n  selectedKey="{/popupStop/accounting}"><core:Item key="01 - Intern" text="01 - Intern" /><core:Item key="02 - Remote" text="02 - Remote" /></Select></VBox><beginButton><Button id="okBtn" text="OK" press=".onStopConfirm" enabled="false" /></beginButton><endButton><Button text="Abbrechen" press=".onStopCancel" /></endButton></Dialog></core:FragmentDefinition>\n',
	"sap/ui/timebookings/view/fragment/TimeInfoDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:l="sap.ui.layout" \n\tcontrollerName="sap.ui.timebookings.controller.Main"><Dialog id="TimeInfoDialog" title="Details zur Zeitaufzeichnung" draggable="true" resizable="true" contentWidth="25rem"><VBox class="sapUiSmallMargin"><Label text="Projekt" /><Select id="projectSelectPopup"\n\t\t\t        selectedKey="{/popupData/projectId}"\n\t\t\t        width="20rem"\n\t\t\t\t\tforceSelection="false"\n\t\t\t        class="projectDropdown"\n\t\t\t        change=".onPopupInputChange"\n\t\t\t        items="{ path: \'projectsModel>/projects\' }"><items><core:Item key="{projectsModel>projectID}" text="{projectsModel>project}" /></items></Select><HBox class="sapUiSmallMarginTop"><VBox class="sapUiTinyMarginEnd"><Label text="Startzeit" /><DateTimePicker id="startPicker"\n\t\t\t\t\t                value="{\n    \t\t\t\t\t\t\t\tpath: \'/popupData/start\',\n    \t\t\t\t\t\t\t\ttype: \'sap.ui.model.type.DateTime\',\n    \t\t\t\t\t\t\t\tformatOptions: { pattern: \'yyyy-MM-dd HH:mm\' }\n\t\t\t\t\t                }"\n\t\t\t\t\t                change=".onPopupInputChange"\n\t\t\t\t\t                class="sapUiSmallMarginBottom" /></VBox><VBox class="sapUiTinyMarginBegin"><Label text="Endzeit" /><DateTimePicker id="endPicker"\n\t\t\t\t\t                value="{\n    \t\t\t\t\t\t\t\tpath: \'/popupData/end\',\n    \t\t\t\t\t\t\t\ttype: \'sap.ui.model.type.DateTime\',\n    \t\t\t\t\t\t\t\tformatOptions: { pattern: \'yyyy-MM-dd HH:mm\' }\n\t\t\t\t\t                }"\n\t\t\t\t\t                change=".onPopupInputChange"\n\t\t\t\t\t                class="sapUiSmallMarginBottom" /></VBox></HBox><Label text="Accounting Indicator" class="sapUiSmallMarginTop" /><Select id="accountingSelectPopup"\n\t\t\t\t\tforceSelection="false"\n\t\t\t        selectedKey="{/popupData/accounting}"\n\t\t\t        change=".onPopupInputChange"><items><core:Item key="01" text="01 - Vor Ort" /><core:Item key="02" text="02 - Remote" /></items></Select><Label text="Short Text" class="sapUiSmallMarginTop" /><Input id="shortTextInput2"\n\t\t\t       value="{/popupData/shortText}"\n\t\t\t       change=".onPopupInputChange" /><HBox alignItems="Center" justifyContent="SpaceBetween" class="sapUiSmallMarginTop"><Button text="Cancel" type="Reject" press=".onPopupCancel" /><Button id="addBtn" text="Add" type="Accept" press=".onPopupAdd" class="sapUiTinyMarginBegin" enabled="false" /></HBox></VBox></Dialog></core:FragmentDefinition>\n'
});
//# sourceMappingURL=Component-preload.js.map
